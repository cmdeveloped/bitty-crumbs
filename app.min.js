"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}var Game=function(){function t(e){_classCallCheck(this,t),this.missed=0,this.phrases=e,this.selected=null}return _createClass(t,[{key:"startGame",value:function(){var e=this.getRandomPhrase();console.log(e);var t=new Phrase(e);(this.selected=t).addPhraseToDom()}},{key:"getRandomPhrase",value:function(){var e=this.phrases;return e[Math.floor(Math.random()*e.length)]}},{key:"handleInteraction",value:function(e){this.selected.checkLetter(e)?this.checkWin():this.removeLife()}},{key:"checkWin",value:function(){$(".letter.hide").length||gameOver(!0)}},{key:"removeLife",value:function(){}},{key:"gameOver",value:function(e){e?alert("you win"):alert("you lose")}}]),t}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}var game,Phrase=function(){function t(e){_classCallCheck(this,t),this.phrase=e}return _createClass(t,[{key:"addPhraseToDom",value:function(){var e=$("#bitty").empty(),t=this.phrase.split(" "),a=!0,n=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var i=o.value,c="",l=!0,u=!1,h=void 0;try{for(var f,v=i[Symbol.iterator]();!(l=(f=v.next()).done);l=!0){var d=f.value,y=new RegExp(/^[A-Za-z]$/);d=d.toLowerCase(),y.test(d)?c+='<span class="letter hide char-'.concat(d,'">').concat(d,"</span>"):c+='<span class="character">'.concat(d,"</span>")}}catch(e){u=!0,h=e}finally{try{l||null==v.return||v.return()}finally{if(u)throw h}}e.append('<div class="word">'.concat(c,"</div>"))}}catch(e){n=!0,r=e}finally{try{a||null==s.return||s.return()}finally{if(n)throw r}}}},{key:"checkLetter",value:function(e){return!!this.phrase.toLowerCase().includes(e)&&(this.showLetter(e),!0)}},{key:"showLetter",value:function(e){$(".char-".concat(e)).removeClass("hide")}}]),t}(),initKeyboard=function(){var v=$("#crumbs"),d="../data/keys.json",y="";$.getJSON(d,function(e){d=Object.keys(e);var t=!0,a=!1,n=void 0;try{for(var r,o=d[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var s=r.value;y+='<div class="'.concat(s,'">');var i=!0,c=!1,l=void 0;try{for(var u,h=e[s][Symbol.iterator]();!(i=(u=h.next()).done);i=!0){var f=u.value;y+='<button type="button" class="key" value="'.concat(f,'">').concat(f,"</button>")}}catch(e){c=!0,l=e}finally{try{i||null==h.return||h.return()}finally{if(c)throw l}}y+="</div>"}}catch(e){a=!0,n=e}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}v.append(y)})},phrases="../data/phrases.json",loadPhrases=function(){$.getJSON(phrases,function(e){phrases=e})};$(document).ready(function(){initKeyboard(),loadPhrases(),$("button[name=start]").on("click",function(){$("#splash").hide(),(game=new Game(phrases)).startGame()}),$("button[name=replay]").on("click",function(){(game=new Game(phrases)).startGame(),$("#results").hide()}),$("#crumbs").on("click",".key",function(e){var t=e.target.value;game.handleInteraction(t)})});